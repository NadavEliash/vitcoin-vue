import{_ as p,o as c,c as l,a as e,t as y,r as d,h as w,e as g,i as x,F as $,j as B,d as m,b as _,f,g as k,w as F,v as R}from"./index-f797de23.js";const M={props:{contact:{type:Object,required:!0}}},b={class:"contact-preview"},L=["src"];function S(o,t,i,h,a,n){return c(),l("div",b,[e("img",{class:"contact-img",src:`https://robohash.org/${i.contact.name}.png`,alt:"user-image"},null,8,L),e("h2",null,y(i.contact.name),1)])}const N=p(M,[["render",S]]);const V={props:{contacts:{type:Array,required:!0}},data(){return{showMsg:{}}},methods:{onRemoveMsg(o){this.showMsg={name:o}},onRemoveContact(o){this.$emit("remove",o)},closeMsg(){this.showMsg=null}},components:{ContactPreview:N}},P=["onClick"],A={class:"action"},I=e("img",{src:"https://www.svgrepo.com/show/510965/edit-pencil-01.svg",alt:"edit"},null,-1),T=[I],j=["onClick"],q=e("img",{src:"https://www.svgrepo.com/show/502608/delete-2.svg",alt:"delete"},null,-1),D=[q],E={key:0,class:"remove-msg"},G={class:"remove-btns"},O=["onClick"];function U(o,t,i,h,a,n){const r=d("ContactPreview"),v=d("RouterLink");return c(),w(B,{name:"list",tag:"ul",class:"contact-list-ul"},{default:g(()=>[(c(!0),l($,null,x(i.contacts,s=>{var C;return c(),l("li",{class:"contact-list",key:s._id,onClick:u=>o.$router.push(`/contact/${s._id}`)},[m(r,{contact:s},null,8,["contact"]),e("section",A,[m(v,{to:`/contact/edit/${s._id}`},{default:g(()=>[e("button",{onClick:t[0]||(t[0]=_(()=>{},["stop"]))},T)]),_:2},1032,["to"]),e("button",{onClick:_(u=>n.onRemoveMsg(s.name),["stop"])},D,8,j)]),((C=a.showMsg)==null?void 0:C.name)===s.name?(c(),l("div",E,[f("Are you sure you want to remove "),e("span",null,y(s.name),1),f("? "),e("div",G,[e("button",{onClick:_(u=>n.onRemoveContact(s._id),["stop"])},"Yes",8,O),e("button",{onClick:t[1]||(t[1]=_(u=>n.closeMsg(),["stop"]))},"No")]),e("div",{class:"background-clicker",onClick:t[2]||(t[2]=_(u=>n.closeMsg(),["stop"]))})])):k("",!0)],8,P)}),128))]),_:1})}const Y=p(V,[["render",U]]);const z={data(){return{filterBy:{txt:""}}},methods:{onSetFilterBy(){this.$emit("filter",this.filterBy)}}},H={class:"contact-filter"},J=e("img",{src:"https://www.svgrepo.com/show/507849/search.svg",alt:"search"},null,-1);function K(o,t,i,h,a,n){return c(),l("div",H,[F(e("input",{type:"text",onInput:t[0]||(t[0]=(...r)=>n.onSetFilterBy&&n.onSetFilterBy(...r)),"onUpdate:modelValue":t[1]||(t[1]=r=>a.filterBy.txt=r),placeholder:"search for contacts"},null,544),[[R,a.filterBy.txt]]),J])}const Q=p(z,[["render",K]]);const W={data(){return{filterBy:{}}},methods:{onSetFilterBy(o){this.filterBy=o},onRemoveContact(o){this.$store.dispatch({type:"removeContact",contactId:o})}},computed:{contacts(){return this.$store.getters.contacts},filteredContacts(){const o=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(t=>o.test(t.name))}},async created(){this.$store.dispatch({type:"loadContacts"})},components:{ContactList:Y,ContactFilter:Q}},X=e("button",{class:"add-contact"},"Add contact",-1);function Z(o,t,i,h,a,n){const r=d("ContactFilter"),v=d("RouterLink"),s=d("ContactList");return c(),l($,null,[m(r,{onFilter:n.onSetFilterBy},null,8,["onFilter"]),m(v,{to:"/contact/edit"},{default:g(()=>[X]),_:1}),n.contacts?(c(),w(s,{key:0,contacts:n.filteredContacts,onRemove:n.onRemoveContact},null,8,["contacts","onRemove"])):k("",!0)],64)}const et=p(W,[["render",Z]]);export{et as default};
