import{_,o as d,c as h,a as t,t as o,w as g,v,b as w,g as m,k as b,r as i,f as u,d as l,e as y}from"./index-a46c7c35.js";const k={data(){return{user:null,transaction:{toId:this.contact._id,to:this.contact.name,at:Date.now(),amount:1}}},props:{contact:{type:Object,requred:!0}},created(){this.user=this.$store.getters.user},methods:{async onFund(){this.transaction.amount>this.user.balance||(await this.$store.dispatch({type:"setTransaction",transaction:this.transaction}),this.user=this.$store.getters.user)}}},x={key:0,class:"transfer-funds"},F={class:"amount-line"},T=t("h4",null,"Transfer ₿",-1);function C(c,n,r,p,s,a){return s.user?(d(),h("div",x,[t("h4",null,"Your balance is: ₿"+o(s.user.balance),1),t("form",{onSubmit:n[1]||(n[1]=w((...e)=>a.onFund&&a.onFund(...e),["prevent"]))},[t("div",F,[T,g(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>s.transaction.amount=e),type:"number"},null,512),[[v,s.transaction.amount,void 0,{number:!0}]])]),t("button",null,"Fund "+o(r.contact.name),1)],32)])):m("",!0)}const D=_(k,[["render",C]]);const V={data(){return{contact:null}},async created(){const c=this.$route.params.id;this.contact=await b.getContactById(c)},components:{TransferFunds:D}},$={key:0,class:"box-display"},B=["src"],N={class:"contact-info"},I=t("img",{src:"https://www.svgrepo.com/show/491226/email.svg",alt:"email"},null,-1),S={class:"contact-info"},L=t("img",{src:"https://www.svgrepo.com/show/511098/phone.svg",alt:"phone"},null,-1),M=t("button",{class:"back-button"},[t("img",{src:"https://www.svgrepo.com/show/348038/back-left.svg",alt:"back"})],-1);function R(c,n,r,p,s,a){const e=i("TransferFunds"),f=i("RouterLink");return s.contact?(d(),h("article",$,[t("img",{class:"contact-img",src:`https://robohash.org/${s.contact.name}.png`,alt:"user-image"},null,8,B),t("h2",null,o(s.contact.name),1),t("div",N,[I,u(o(s.contact.email),1)]),t("div",S,[L,u(o(s.contact.phone),1)]),l(e,{class:"transfer-cmp",contact:s.contact},null,8,["contact"]),l(f,{to:"/contact"},{default:y(()=>[M]),_:1})])):m("",!0)}const q=_(V,[["render",R]]);export{q as default};
