import{_ as m,o as r,c as d,a as o,t as y,r as l,h as v,e as p,i as C,F as f,j as $,d as _,w,v as g,g as x}from"./index-7a2e304f.js";const B={props:{contact:{type:Object,required:!0}}},F={class:"contact-preview"};function k(t,e,a,h,i,n){return r(),d("div",F,[o("h2",{onClick:e[0]||(e[0]=s=>t.$router.push(`/contact/${a.contact._id}`))},y(a.contact.name),1)])}const R=m(B,[["render",k]]);const L={props:{contacts:{type:Array,required:!0}},methods:{onRemoveContact(t){this.$emit("remove",t)}},components:{ContactPreview:R}},S={class:"action"},b=o("button",null,[o("img",{src:"https://www.svgrepo.com/show/506353/user-2.svg",alt:"details"})],-1),V=o("button",null,[o("img",{src:"https://www.svgrepo.com/show/510965/edit-pencil-01.svg",alt:"edit"})],-1),I=["onClick"],N=o("img",{src:"https://www.svgrepo.com/show/502608/delete-2.svg",alt:"delete"},null,-1),P=[N];function j(t,e,a,h,i,n){const s=l("ContactPreview"),u=l("RouterLink");return r(),v($,{name:"list",tag:"ul",class:"contact-list-ul"},{default:p(()=>[(r(!0),d(f,null,C(a.contacts,c=>(r(),d("li",{class:"contact-list",key:c._id},[_(s,{contact:c},null,8,["contact"]),o("section",S,[_(u,{to:`/contact/${c._id}`},{default:p(()=>[b]),_:2},1032,["to"]),_(u,{to:`/contact/edit/${c._id}`},{default:p(()=>[V]),_:2},1032,["to"]),o("button",{onClick:z=>n.onRemoveContact(c._id)},P,8,I)])]))),128))]),_:1})}const q=m(L,[["render",j]]);const A={data(){return{filterBy:{txt:""}}},methods:{onSetFilterBy(){this.$emit("filter",this.filterBy)}}},D={class:"contact-filter"},E=o("img",{src:"https://www.svgrepo.com/show/507849/search.svg",alt:"search"},null,-1);function T(t,e,a,h,i,n){return r(),d("div",D,[w(o("input",{type:"text",onInput:e[0]||(e[0]=(...s)=>n.onSetFilterBy&&n.onSetFilterBy(...s)),"onUpdate:modelValue":e[1]||(e[1]=s=>i.filterBy.txt=s),placeholder:"search for contacts"},null,544),[[g,i.filterBy.txt]]),E])}const G=m(A,[["render",T]]);const M={data(){return{filterBy:{}}},methods:{onSetFilterBy(t){this.filterBy=t},onRemoveContact(t){this.$store.dispatch({type:"removeContact",contactId:t})}},computed:{contacts(){return this.$store.getters.contacts},filteredContacts(){const t=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(e=>t.test(e.name))}},async created(){this.$store.dispatch({type:"loadContacts"})},components:{ContactList:q,ContactFilter:G}},O=o("button",{class:"add-contact"},"Add contact",-1);function U(t,e,a,h,i,n){const s=l("ContactFilter"),u=l("RouterLink"),c=l("ContactList");return r(),d(f,null,[_(s,{onFilter:n.onSetFilterBy},null,8,["onFilter"]),_(u,{to:"/contact/edit"},{default:p(()=>[O]),_:1}),n.contacts?(r(),v(c,{key:0,contacts:n.filteredContacts,onRemove:n.onRemoveContact},null,8,["contacts","onRemove"])):x("",!0)],64)}const J=m(M,[["render",U]]);export{J as default};
