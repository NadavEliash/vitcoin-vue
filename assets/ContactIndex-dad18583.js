import{_ as u,o as r,c as _,a as n,t as $,r as l,h as v,e as h,i as w,F as C,j as g,d,b as f,w as x,v as B,g as k}from"./index-83dd55b5.js";const F={props:{contact:{type:Object,required:!0}}},R={class:"contact-preview"};function L(t,e,a,p,i,o){return r(),_("div",R,[n("h2",null,$(a.contact.name),1)])}const S=u(F,[["render",L]]);const b={props:{contacts:{type:Array,required:!0}},methods:{onRemoveContact(t){this.$emit("remove",t)}},components:{ContactPreview:S}},V=["onClick"],I={class:"action"},N=n("img",{src:"https://www.svgrepo.com/show/510965/edit-pencil-01.svg",alt:"edit"},null,-1),P=[N],j=["onClick"],q=n("img",{src:"https://www.svgrepo.com/show/502608/delete-2.svg",alt:"delete"},null,-1),A=[q];function D(t,e,a,p,i,o){const s=l("ContactPreview"),m=l("RouterLink");return r(),v(g,{name:"list",tag:"ul",class:"contact-list-ul"},{default:h(()=>[(r(!0),_(C,null,w(a.contacts,c=>(r(),_("li",{class:"contact-list",key:c._id,onClick:y=>t.$router.push(`/contact/${c._id}`)},[d(s,{contact:c},null,8,["contact"]),n("section",I,[d(m,{to:`/contact/edit/${c._id}`},{default:h(()=>[n("button",{onClick:e[0]||(e[0]=f(()=>{},["stop"]))},P)]),_:2},1032,["to"]),n("button",{onClick:f(y=>o.onRemoveContact(c._id),["stop"])},A,8,j)])],8,V))),128))]),_:1})}const E=u(b,[["render",D]]);const M={data(){return{filterBy:{txt:""}}},methods:{onSetFilterBy(){this.$emit("filter",this.filterBy)}}},T={class:"contact-filter"},G=n("img",{src:"https://www.svgrepo.com/show/507849/search.svg",alt:"search"},null,-1);function O(t,e,a,p,i,o){return r(),_("div",T,[x(n("input",{type:"text",onInput:e[0]||(e[0]=(...s)=>o.onSetFilterBy&&o.onSetFilterBy(...s)),"onUpdate:modelValue":e[1]||(e[1]=s=>i.filterBy.txt=s),placeholder:"search for contacts"},null,544),[[B,i.filterBy.txt]]),G])}const U=u(M,[["render",O]]);const z={data(){return{filterBy:{}}},methods:{onSetFilterBy(t){this.filterBy=t},onRemoveContact(t){this.$store.dispatch({type:"removeContact",contactId:t})}},computed:{contacts(){return this.$store.getters.contacts},filteredContacts(){const t=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(e=>t.test(e.name))}},async created(){this.$store.dispatch({type:"loadContacts"})},components:{ContactList:E,ContactFilter:U}},H=n("button",{class:"add-contact"},"Add contact",-1);function J(t,e,a,p,i,o){const s=l("ContactFilter"),m=l("RouterLink"),c=l("ContactList");return r(),_(C,null,[d(s,{onFilter:o.onSetFilterBy},null,8,["onFilter"]),d(m,{to:"/contact/edit"},{default:h(()=>[H]),_:1}),o.contacts?(r(),v(c,{key:0,contacts:o.filteredContacts,onRemove:o.onRemoveContact},null,8,["contacts","onRemove"])):k("",!0)],64)}const Q=u(z,[["render",J]]);export{Q as default};
