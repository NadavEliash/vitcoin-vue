import{_ as p,o as c,c as l,a as o,t as y,r as d,h as w,e as g,i as x,F as $,j as B,d as m,b as _,f,g as k,w as F,v as R}from"./index-ebe9fc64.js";const M={props:{contact:{type:Object,required:!0}}},b={class:"contact-preview"},L=["src"];function S(e,t,i,h,a,n){return c(),l("div",b,[o("img",{class:"contact-img",src:`https://robohash.org/${i.contact.name}.png`,alt:"user-image"},null,8,L),o("h2",null,y(i.contact.name),1)])}const N=p(M,[["render",S]]);const V={props:{contacts:{type:Array,required:!0}},data(){return{showMsg:{}}},methods:{onRemoveMsg(e){this.showMsg={name:e}},onRemoveContact(e){this.$emit("remove",e)},closeMsg(){this.showMsg=null}},components:{ContactPreview:N}},P=["onClick"],A={class:"action"},I=o("img",{src:"https://www.svgrepo.com/show/510965/edit-pencil-01.svg",alt:"edit"},null,-1),T=[I],j=["onClick"],q=o("img",{src:"https://www.svgrepo.com/show/502608/delete-2.svg",alt:"delete"},null,-1),D=[q],E={key:0,class:"remove-msg"},G=["onClick"];function O(e,t,i,h,a,n){const r=d("ContactPreview"),v=d("RouterLink");return c(),w(B,{name:"list",tag:"ul",class:"contact-list-ul"},{default:g(()=>[(c(!0),l($,null,x(i.contacts,s=>{var C;return c(),l("li",{class:"contact-list",key:s._id,onClick:u=>e.$router.push(`/contact/${s._id}`)},[m(r,{contact:s},null,8,["contact"]),o("section",A,[m(v,{to:`/contact/edit/${s._id}`},{default:g(()=>[o("button",{onClick:t[0]||(t[0]=_(()=>{},["stop"]))},T)]),_:2},1032,["to"]),o("button",{onClick:_(u=>n.onRemoveMsg(s.name),["stop"])},D,8,j)]),((C=a.showMsg)==null?void 0:C.name)===s.name?(c(),l("div",E,[f("Are you sure you want to remove "),o("span",null,y(s.name),1),f("? "),o("button",{onClick:_(u=>n.onRemoveContact(s._id),["stop"])},"Yes",8,G),o("button",{onClick:t[1]||(t[1]=_(u=>n.closeMsg(),["stop"]))},"No"),o("div",{class:"background-clicker",onClick:t[2]||(t[2]=_(u=>n.closeMsg(),["stop"]))})])):k("",!0)],8,P)}),128))]),_:1})}const U=p(V,[["render",O]]);const Y={data(){return{filterBy:{txt:""}}},methods:{onSetFilterBy(){this.$emit("filter",this.filterBy)}}},z={class:"contact-filter"},H=o("img",{src:"https://www.svgrepo.com/show/507849/search.svg",alt:"search"},null,-1);function J(e,t,i,h,a,n){return c(),l("div",z,[F(o("input",{type:"text",onInput:t[0]||(t[0]=(...r)=>n.onSetFilterBy&&n.onSetFilterBy(...r)),"onUpdate:modelValue":t[1]||(t[1]=r=>a.filterBy.txt=r),placeholder:"search for contacts"},null,544),[[R,a.filterBy.txt]]),H])}const K=p(Y,[["render",J]]);const Q={data(){return{filterBy:{}}},methods:{onSetFilterBy(e){this.filterBy=e},onRemoveContact(e){this.$store.dispatch({type:"removeContact",contactId:e})}},computed:{contacts(){return this.$store.getters.contacts},filteredContacts(){const e=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(t=>e.test(t.name))}},async created(){this.$store.dispatch({type:"loadContacts"})},components:{ContactList:U,ContactFilter:K}},W=o("button",{class:"add-contact"},"Add contact",-1);function X(e,t,i,h,a,n){const r=d("ContactFilter"),v=d("RouterLink"),s=d("ContactList");return c(),l($,null,[m(r,{onFilter:n.onSetFilterBy},null,8,["onFilter"]),m(v,{to:"/contact/edit"},{default:g(()=>[W]),_:1}),n.contacts?(c(),w(s,{key:0,contacts:n.filteredContacts,onRemove:n.onRemoveContact},null,8,["contacts","onRemove"])):k("",!0)],64)}const tt=p(Q,[["render",X]]);export{tt as default};
